{"version":3,"sources":["utils/consts.js","contexts/index.js","utils/utils.js","utils/media.js","components/Container.js","components/header/Checkbox.js","components/header/WidgetSelector.js","components/Header.js","components/Footer.js","components/display/Player.js","utils/hooks.js","components/display/ControlPanel.js","components/display/Widget.js","components/display/ChatWidget.js","components/display/ClockWidget.js","components/display/PlayingTimeWidget.js","components/Display.js","components/category/CategoryList.js","components/Category.js","components/Contents.js","components/Main.js","components/Landing.js","components/ChannelsSetter.js","App.js","serviceWorker.js","index.js"],"names":["URL_ROUTER_NAME","API_URL","getChannels","apiBase","widgetList","Context","createContext","Provider","children","useReducer","state","action","type","newState","concat","channels","playList","localStorage","myList","JSON","parse","reduce","result","videoId","i","item","find","x","id","push","channel","channelId","some","video","channelr","filter","name","title","tags","img","initialMessages","category","channelsDispatch","initialWidget","forEach","use","e","initialVideo","currentVideo","userSetting","setItem","stringify","widget","widetDispatch","player","length","addList","removeList","videoDispatch","map","a","Math","random","sort","b","channelDispatch","toggleCategory","categoryDispatch","value","dispatch","Consumer","sizes","desktop","tablet","mobile","media","Object","keys","acc","label","css","Wrapper","styled","div","Container","Box","Label","Checkbox","check","onClick","className","WidgetSelector","useContext","context","ButtonContainer","Title","WidgetSelectors","Icon","withRouter","history","key","YTPlayer","Player","ref","useRef","onPlayerReady","target","playVideo","current","onPlayerError","onPlayerStateChange","data","window","YT","PlayerState","ENDED","useEffect","tag","firstScriptTag","Promise","resolve","document","createElement","src","getElementsByTagName","parentNode","insertBefore","onYouTubeIframeAPIReady","then","playerVars","fs","loop","events","onReady","onStateChange","onError","removeChild","loadVideoById","useWindowSize","isClient","getSize","width","innerWidth","undefined","height","innerHeight","useState","windowSize","setWindowSize","handleResize","addEventListener","removeEventListener","Panel","props","font","ControlPanel","setFont","isFavorite","setFavorite","assign","isPortrait","matchMedia","matches","size","isFullscreen","toggleFullScreen","display","getElementById","clientWidth","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","elem","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","style","color","xp","yp","movable","Widget","defaultRatio","setXp","setYp","xratio","setXratio","yratio","setYratio","drag","setDrag","clientX","org","setOrg","down","touches","clientY","move","player_wrap","diffX","diffY","up","isShow","onMouseDown","onTouchStart","onMouseMove","onTouchMove","onMouseUp","onTouchEnd","ChatPanel","WriteMessage","input","disabled","WriteContainer","MessageContainer","Message","mine","MHeader","NickName","MTime","MContents","MWrapper","ChatWidget","msg","uuid","nickName","time","Date","contents","_setNickName","messages","_setMessages","connected","_setConnected","socket","setNickName","setMessages","setConnected","io","on","emit","realNick","prompt","rn","int","nick","message","slice","format","placeholder","onKeyUp","Time","ClockWidget","interval","PlayingTimeWidget","startTime","playingTime","setPlayingTime","intervalId","setInterval","getTime","clearInterval","tmpSeconds","floor","hours","minutes","seconds","getTimes","toString","padStart","FlexContainer","Display","LIST_SELECTED_COLOR","Ul","ul","Li","li","Image","Span","span","CategoryList","currentVideoIndex","CLICK_LIST","index","background","bind","thumbnail","alt","Category","Contents","match","isOnceInitChannel","setIsOnceInitChannel","isValidChannel","params","Header","Titles","SubTitle","Expander","PlayList","CardWrapper","Card","CardInner","ThumbNail","CardDesc","CardName","CardTags","Footer","ModalHeader","DeviceLink","isActive","MenuBar","Menu","Seperator","hr","MailTo","Landing","modalShow","setModalShow","modalTab","setModalTab","activeMenu","setActiveMenu","handleMenuToggle","menu","setPlayList","includes","Modal","show","onHide","closeButton","Body","alert","goChannel","fontWeight","href","margin","fontSize","React","memo","v","removeItem","axios","get","res","path","component","exact","render","App","Boolean","location","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.41207c65.chunk.js","sourcesContent":["export const URL_ROUTER_NAME = \"\";\r\n\r\n// const apiBase = window.location.hostname === \"localhost\" ? \"http://localhost/\" : \"https://api.wavup.me/\";\r\nconst apiBase = \"https://api.wavup.me/\";\r\nexport const API_URL = {\r\n  getChannels: apiBase + \"getChannels/\",\r\n};\r\n\r\nexport const widgetList = [\"chat\", \"clock\", \"playingTime\"];\r\n","import React, { createContext, useReducer } from \"react\";\r\nimport { widgetList } from \"../utils/consts\";\r\nimport { shuffle } from \"../utils/utils\";\r\n\r\nconst Context = createContext();\r\n\r\nconst Provider = ({ children }) => {\r\n  const channelsReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case \"INIT\":\r\n        const newState = state.concat(action.channels);\r\n\r\n        //myList 초기화\r\n        newState[0].playList = (\r\n          (localStorage.myList && JSON.parse(localStorage.myList)) ||\r\n          []\r\n        ).reduce((result, videoId) => {\r\n          for (let i in newState) {\r\n            const item = (newState[i].playList || []).find(\r\n              (x) => x.id === videoId\r\n            );\r\n            if (item) {\r\n              result.push(item);\r\n              return result;\r\n            }\r\n          }\r\n          return result;\r\n        }, []);\r\n        return newState;\r\n      case \"ADD_PLAYLIST\":\r\n        const channel = state.find((x) => x.id === action.channelId);\r\n        if (\r\n          channel &&\r\n          !channel.playList.some((x) => x.id === action.video.id)\r\n        ) {\r\n          channel.playList.push(action.video);\r\n        }\r\n        return state;\r\n      case \"REMOVE_PLAYLIST\":\r\n        const channelr = state.find((x) => x.id === action.channelId);\r\n        if (channelr) {\r\n          channelr.playList = channelr.playList.filter(\r\n            (x) => x.id !== action.videoId\r\n          );\r\n        }\r\n        return state;\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  const initialChannales = [\r\n    {\r\n      id: \"myList\",\r\n      name: \"#MY SOUND\",\r\n      title: \"MY\",\r\n      tags: [\"나만의 목록\", \"좋아요\"],\r\n      img: \"/images/mysound.png\",\r\n      playList: [],\r\n      initialMessages: [\"내가 좋아하는 소리들\"],\r\n      category: [\"favorite\"],\r\n    },\r\n  ];\r\n  const [channels, channelsDispatch] = useReducer(\r\n    channelsReducer,\r\n    initialChannales\r\n  );\r\n\r\n  const widgetReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case \"TOGGLE\":\r\n        try {\r\n          const userSetting = JSON.parse(localStorage[action.name] || \"{}\");\r\n          localStorage.setItem(\r\n            action.name,\r\n            JSON.stringify({\r\n              ...userSetting,\r\n              use: !state[action.name],\r\n            })\r\n          );\r\n        } catch (e) {}\r\n\r\n        return {\r\n          ...state,\r\n          [action.name]: !state[action.name],\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  const videoReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case \"SETPLAYER\":\r\n        return {\r\n          ...state,\r\n          player: action.player,\r\n        };\r\n      case \"NEXT\":\r\n        return {\r\n          ...state,\r\n          currentVideo:\r\n            (state.currentVideo + 1 + action.playList.length) %\r\n            action.playList.length,\r\n        };\r\n      case \"PREV\":\r\n        return {\r\n          ...state,\r\n          currentVideo:\r\n            (state.currentVideo - 1 + action.playList.length) %\r\n            action.playList.length,\r\n        };\r\n      case \"SELECT\":\r\n        return {\r\n          ...state,\r\n          currentVideo: action.currentVideo,\r\n        };\r\n      case \"CLEAR\":\r\n        return { ...state, player: null, currentVideo: 0 };\r\n      case \"ADD_MYLIST\":\r\n        debugger;\r\n        if (state.myList.some((x) => x === action.video.id)) {\r\n          return state;\r\n        }\r\n\r\n        const addList = [...state.myList, action.video.id];\r\n        localStorage.setItem(\"myList\", JSON.stringify(addList));\r\n        return {\r\n          ...state,\r\n          myList: addList,\r\n        };\r\n      case \"REMOVE_MYLIST\":\r\n        if (!state.myList.some((x) => x === action.video.id)) {\r\n          return state;\r\n        }\r\n\r\n        const removeList = state.myList.filter((x) => x !== action.video.id);\r\n        localStorage.setItem(\"myList\", JSON.stringify(removeList));\r\n        return {\r\n          ...state,\r\n          myList: removeList,\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  const channelReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case \"SET\":\r\n        const channel = channels.find((x) => x.id === action.id);\r\n        if (channel) {\r\n          channel.playList = shuffle(channel.playList);\r\n        }\r\n        return channel;\r\n      case \"CLEAR\":\r\n        return null;\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  const categoryReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case \"SHOW\":\r\n        return {\r\n          ...state,\r\n          toggleCategory: true,\r\n        };\r\n      case \"HIDE\":\r\n        return {\r\n          ...state,\r\n          toggleCategory: false,\r\n        };\r\n      case \"TOGGLE\":\r\n        return {\r\n          ...state,\r\n          toggleCategory: !state.toggleCategory,\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  //위젯 초기화\r\n  let initialWidget = {};\r\n  widgetList.forEach((item) => {\r\n    try {\r\n      if (localStorage[item]) {\r\n        initialWidget[item] = JSON.parse(localStorage[item]).use;\r\n      } else {\r\n        initialWidget[item] = true;\r\n      }\r\n    } catch (e) {}\r\n  });\r\n\r\n  //비디오 초기화\r\n  const initialVideo = {\r\n    currentVideo: 0,\r\n    myList: (localStorage.myList && JSON.parse(localStorage.myList)) || [],\r\n  };\r\n\r\n  const [widget, widetDispatch] = useReducer(widgetReducer, initialWidget);\r\n  const [video, videoDispatch] = useReducer(videoReducer, initialVideo);\r\n  const [channel, channelDispatch] = useReducer(channelReducer, null);\r\n  const [category, categoryDispatch] = useReducer(categoryReducer, {\r\n    toggleCategory: false,\r\n  });\r\n\r\n  const value = {\r\n    widget,\r\n    video,\r\n    channels,\r\n    channel,\r\n    category,\r\n    dispatch: {\r\n      widget: widetDispatch,\r\n      video: videoDispatch,\r\n      channels: channelsDispatch,\r\n      channel: channelDispatch,\r\n      category: categoryDispatch,\r\n    },\r\n  };\r\n\r\n  return <Context.Provider value={value}>{children}</Context.Provider>;\r\n};\r\n\r\nconst Consumer = Context.Consumer;\r\n\r\nexport { Provider, Consumer };\r\n\r\nexport default Context;\r\n","export const shuffle = arr => arr\r\n  .map(a => [Math.random(), a])\r\n  .sort((a, b) => a[0] - b[0])\r\n  .map(a => a[1]);\r\n","import { css } from \"styled-components\";\r\n\r\nconst sizes = {\r\n  desktop: 1024,\r\n  tablet: 768,\r\n  mobile: 480\r\n};\r\n\r\n// 위에있는 size 객체에 따라 자동으로 media 쿼리 함수를 만들어줍니다.\r\n// 참고: https://www.styled-components.com/docs/advanced#media-templates\r\nconst media = Object.keys(sizes).reduce((acc, label) => {\r\n  acc[label] = (...args) => css`\r\n    @media (max-width: ${sizes[label] / 16}em) {\r\n      ${css(...args)};\r\n    }\r\n  `;\r\n\r\n  return acc;\r\n}, {});\r\n\r\nexport default media;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport media from \"../utils/media\";\r\n\r\nconst Wrapper = styled.div`\r\n  background: white;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  ${media.mobile`align-items: flex-start`}\r\n`;\r\n\r\nfunction Container({ children }) {\r\n  return <Wrapper>{children}</Wrapper>;\r\n}\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport media from \"../../utils/media\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: 15px;\r\n  cursor: pointer;\r\n\r\n  ${media.mobile`margin-left: 10px;`}\r\n`;\r\n\r\nconst Box = styled.i`\r\n  color: #22b8cf;\r\n\r\n  ${media.mobile`font-size: 1rem;`}\r\n`;\r\n\r\nconst Label = styled.div`\r\n  margin-left: 5px;\r\n\r\n  ${media.mobile`font-size: 0.7rem;`}\r\n`;\r\n\r\nconst Checkbox = ({ children, check, onClick }) => {\r\n  return (\r\n    <Wrapper onClick={e => onClick && onClick(e)}>\r\n      <Box className=\"material-icons\">\r\n        {check ? \"check_box\" : \"check_box_outline_blank\"}\r\n      </Box>\r\n      <Label>{children}</Label>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Checkbox;\r\n","import React, { useContext } from \"react\";\r\nimport Checkbox from \"./Checkbox\";\r\nimport context from \"../../contexts\";\r\n\r\nconst WidgetSelector = ({ children }) => {\r\n  const { widget, dispatch } = useContext(context);\r\n  const check = widget[children];\r\n\r\n  const onClick = e => {\r\n    dispatch.widget({ type: \"TOGGLE\", name: children });\r\n  };\r\n\r\n  return (\r\n    <Checkbox check={check} onClick={onClick}>\r\n      {children}\r\n    </Checkbox>\r\n  );\r\n};\r\n\r\nexport default WidgetSelector;\r\n","import React, { useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport WidgetSelector from \"./header/WidgetSelector\";\r\nimport media from \"../utils/media\";\r\nimport { URL_ROUTER_NAME, widgetList } from \"../utils/consts\";\r\nimport context from \"../contexts\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  font-family: \"Baloo Bhai\", cursive;\r\n  padding: 5px 5px;\r\n\r\n  ${media.mobile`\r\n  flex-direction: column-reverse;\r\n  `}\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Title = styled.div`\r\n  font-weight: 800;\r\n  font-size: 1.7rem;\r\n\r\n  align-self: flex-start;\r\n  cursor: pointer;\r\n\r\n  ${media.mobile`font-size: 1rem;`}\r\n`;\r\n\r\nconst WidgetSelectors = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst Icon = styled.i`\r\n  font-size: 1.3rem;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n\r\n  ${media.mobile`font-size: 0.8rem;`}\r\n`;\r\n\r\nfunction Header({ history }) {\r\n  const { channel } = useContext(context);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ButtonContainer>\r\n        <Icon\r\n          className=\"material-icons\"\r\n          onClick={() => history.push(URL_ROUTER_NAME)}\r\n        >\r\n          arrow_back_ios\r\n        </Icon>\r\n        <WidgetSelectors>\r\n          {widgetList.map((item, i) => (\r\n            <WidgetSelector key={i}>{item}</WidgetSelector>\r\n          ))}\r\n        </WidgetSelectors>\r\n      </ButtonContainer>\r\n      <Title\r\n        className=\"handle\"\r\n        onClick={() => history.push(`${URL_ROUTER_NAME}/${channel.id}`)}\r\n      >\r\n        {channel.title} <span className=\"subTitle\">SOUND</span>\r\n      </Title>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default withRouter(Header);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n    background: #fff;\r\n    width: 100%;\r\n    height: 100px;\r\n`;\r\n\r\nfunction Footer() {\r\n  return (\r\n    <Wrapper>\r\n      \r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n\r\n","import React, { useEffect, useContext, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport context from \"../../contexts\";\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nconst YTPlayer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nconst Player = ({ children }) => {\r\n  const { video, channel, dispatch } = useContext(context);\r\n  const ref = useRef({ player: null, channel: null });\r\n\r\n  const onPlayerReady = e => {\r\n    e.target.playVideo();\r\n    dispatch.video({ type: \"SETPLAYER\", player: e.target });\r\n    ref.current.player = e.target;\r\n  };\r\n\r\n  function onPlayerError(e) {\r\n    dispatch.video({ type: \"NEXT\", playList: channel.playList });\r\n  }\r\n\r\n  function onPlayerStateChange(e) {\r\n    if (e.data === window.YT.PlayerState.ENDED) {\r\n      dispatch.video({ type: \"NEXT\", playList: channel.playList });\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!channel) {\r\n      return;\r\n    }\r\n\r\n    ref.current.channel = channel;\r\n    let tag, firstScriptTag;\r\n    new Promise(resolve => {\r\n      //api load\r\n      tag = document.createElement(\"script\");\r\n      tag.src = \"https://www.youtube.com/iframe_api\";\r\n      firstScriptTag = document.getElementsByTagName(\"script\")[0];\r\n      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n      window.onYouTubeIframeAPIReady = () => resolve(window.YT);\r\n    }).then(YT => {\r\n      //create iframe player\r\n      new YT.Player(\"player\", {\r\n        videoId: ref.current.channel.playList[video.currentVideo].id,\r\n        playerVars: {\r\n          fs: 0,\r\n          loop: 1\r\n        },\r\n        events: {\r\n          onReady: onPlayerReady,\r\n          onStateChange: onPlayerStateChange,\r\n          onError: onPlayerError\r\n        }\r\n      });\r\n    });\r\n\r\n    return () => {\r\n      firstScriptTag.parentNode.removeChild(tag);\r\n      window.YT = null;\r\n    };\r\n  }, [channel]);\r\n\r\n  useEffect(() => {\r\n    if (video.player) {\r\n      video.player.loadVideoById(\r\n        ref.current.channel.playList[video.currentVideo].id\r\n      );\r\n    }\r\n  }, [video.player, video.currentVideo]);\r\n\r\n  return (\r\n    <Wrapper id=\"player_wrap\">\r\n      {children}\r\n      <YTPlayer id=\"player\"></YTPlayer>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Player;\r\n","import { useState, useEffect } from \"react\";\r\n\r\n// Hook\r\nfunction useWindowSizeHook() {\r\n  const isClient = typeof window === \"object\";\r\n\r\n  function getSize() {\r\n    return {\r\n      width: isClient ? window.innerWidth : undefined,\r\n      height: isClient ? window.innerHeight : undefined\r\n    };\r\n  }\r\n\r\n  const [windowSize, setWindowSize] = useState(getSize);\r\n\r\n  useEffect(() => {\r\n    if (!isClient) {\r\n      return false;\r\n    }\r\n\r\n    function handleResize() {\r\n      setWindowSize(getSize());\r\n    }\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []); // Empty array ensures that effect is only run on mount and unmount\r\n\r\n  return windowSize;\r\n}\r\n\r\nexport const useWindowSize = useWindowSizeHook;\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport context from \"../../contexts\";\r\nimport styled from \"styled-components\";\r\nimport { useWindowSize } from \"../../utils/hooks\";\r\nimport media from \"../../utils/media\";\r\nimport axios from \"axios\";\r\n\r\nconst GET_VIDEOS_URL = \"https://www.googleapis.com/youtube/v3/videos\";\r\n\r\nconst Panel = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  background-color: black;\r\n  padding: 20px 5px;\r\n\r\n  ${media.mobile`\r\n    flex-direction: row;\r\n    padding: 5px 5px;\r\n  `}\r\n`;\r\n\r\nconst Icon = styled.i`\r\n  color: white;\r\n  font-size: ${props => `${props.font}px`};\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    opacity: 0.7;\r\n    transition: all 0.2s linear;\r\n  }\r\n\r\n  ${media.mobile`\r\n    font-size: ${props => `${(props.font * 5) / 4}px`};\r\n  `}\r\n`;\r\n\r\nconst ControlPanel = () => {\r\n  const { video, channel, dispatch } = useContext(context);\r\n  const [font, setFont] = useState(0);\r\n  const [isFavorite, setFavorite] = useState(0);\r\n  const ref = useRef({\r\n    channel: Object.assign({}, channel),\r\n    isPortrait: window.matchMedia(\"(orientation: portrait)\").matches\r\n  });\r\n  const size = useWindowSize();\r\n\r\n  useEffect(() => {\r\n    //핸드폰 돌릴 때 전체화면 취소\r\n    const isPortrait = window.matchMedia(\"(orientation: portrait)\").matches;\r\n    if (isPortrait !== ref.current.isPortrait) {\r\n      ref.current.isPortrait = isPortrait;\r\n      isFullscreen() && toggleFullScreen();\r\n    }\r\n\r\n    //아이콘 크기 변경\r\n    const display = document.getElementById(\"display\");\r\n    setFont(display.clientWidth * 0.04);\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [size]);\r\n\r\n  const isFullscreen = () => {\r\n    return (\r\n      document.fullscreenElement ||\r\n      document.webkitFullscreenElement ||\r\n      document.mozFullScreenElement\r\n    );\r\n  };\r\n\r\n  const toggleFullScreen = e => {\r\n    if (isFullscreen()) {\r\n      if (document.exitFullscreen) {\r\n        return document.exitFullscreen();\r\n      } else if (document.mozCancelFullScreen) {\r\n        return document.mozCancelFullScreen();\r\n      } else if (document.webkitExitFullscreen) {\r\n        return document.webkitExitFullscreen();\r\n      } else if (document.msExitFullscreen) {\r\n        return document.msExitFullscreen();\r\n      }\r\n    } else {\r\n      var elem = document.getElementById(\"display\");\r\n      if (elem.requestFullscreen) {\r\n        return elem.requestFullscreen();\r\n      } else if (elem.mozRequestFullScreen) {\r\n        return elem.mozRequestFullScreen();\r\n      } else if (elem.webkitRequestFullscreen) {\r\n        return elem.webkitRequestFullscreen();\r\n      } else if (elem.msRequestFullscreen) {\r\n        return elem.msRequestFullscreen();\r\n      }\r\n    }\r\n  };\r\n\r\n  const skipNext = () => {\r\n    dispatch.video({ type: \"NEXT\", playList: ref.current.channel.playList });\r\n  };\r\n\r\n  const skipPrev = () => {\r\n    dispatch.video({ type: \"PREV\", playList: ref.current.channel.playList });\r\n  };\r\n\r\n  // const getVideoInfo = videoId => {\r\n  //   return axios.get(GET_VIDEOS_URL, {\r\n  //     params: {\r\n  //       id: videoId,\r\n  //       part: \"snippet\",\r\n  //       key: \"AIzaSyCXl2NVfwCHKlMvmMd3nDaoduSsFs192O4\",\r\n  //       maxResults: 2\r\n  //     }\r\n  //   });\r\n  // };\r\n\r\n  const toggleCategory = () => {\r\n    dispatch.category({ type: \"TOGGLE\" });\r\n  };\r\n\r\n  //favorite 여부\r\n  useEffect(() => {\r\n    const videoId = ref.current.channel.playList[video.currentVideo].id;\r\n    setFavorite(video.myList.some(x => x === videoId));\r\n  }, [video.currentVideo, video.myList]);\r\n\r\n  const toggleFavorite = () => {\r\n    if (isFavorite) {\r\n      dispatch.channels({ type: \"REMOVE_PLAYLIST\", channelId: \"myList\", video: ref.current.channel.playList[video.currentVideo] });\r\n      dispatch.video({ type: \"REMOVE_MYLIST\", video: ref.current.channel.playList[video.currentVideo] });\r\n    } else {\r\n      dispatch.channels({ type: \"ADD_PLAYLIST\", channelId: \"myList\", video: ref.current.channel.playList[video.currentVideo] });\r\n      dispatch.video({ type: \"ADD_MYLIST\", video: ref.current.channel.playList[video.currentVideo] });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Panel>\r\n      <Icon\r\n        className=\"material-icons\"\r\n        font={font}\r\n        onClick={toggleCategory}\r\n        style={{ display: isFullscreen() ? \"none\" : \"block\" }}\r\n        id=\"categoryBtn\"\r\n      >\r\n        playlist_play\r\n      </Icon>\r\n      <Icon\r\n        className=\"material-icons\"\r\n        font={font}\r\n        style={{ color: isFavorite ? \"#ff5722\" : \"\" }}\r\n        onClick={toggleFavorite}\r\n      >\r\n        {isFavorite ? \"favorite\" : \"favorite_border\"}\r\n      </Icon>\r\n      <Icon\r\n        className=\"material-icons\"\r\n        font={font}\r\n        onClick={toggleFullScreen}\r\n        id=\"fullscreenBtn\"\r\n      >\r\n        fullscreen\r\n      </Icon>\r\n      <Icon className=\"material-icons\" font={font} onClick={skipPrev}>\r\n        skip_previous\r\n      </Icon>\r\n      <Icon className=\"material-icons\" font={font} onClick={skipNext}>\r\n        skip_next\r\n      </Icon>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nexport default ControlPanel;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\nimport { useWindowSize } from \"../../utils/hooks\";\r\nimport context from \"../../contexts\";\r\n\r\nconst Wrapper = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  align-items: center;\r\n  opacity: 0.8;\r\n  cursor: pointer;\r\n  transform: ${props => {\r\n    return `translate(${props.xp}px, ${props.yp}px)`;\r\n  }};\r\n\r\n  &:hover {\r\n    opacity: 0.9;\r\n  }\r\n\r\n  ${props =>\r\n    !props.movable &&\r\n    css`\r\n      cursor: auto;\r\n    `}\r\n\r\n    ${props =>\r\n      props.width &&\r\n      css`\r\n        width: ${props.width}%;\r\n      `}\r\n    ${props =>\r\n      props.height &&\r\n      css`\r\n        height: ${props.height}%;\r\n      `}\r\n`;\r\n\r\nconst Widget = ({ children, type, movable, width, height, defaultRatio }) => {\r\n  const { widget } = useContext(context);\r\n\r\n  let userSetting;\r\n  try {\r\n    userSetting = JSON.parse(localStorage[`${type}`]);\r\n  } catch (e) {\r\n    userSetting = {};\r\n  }\r\n  const [xp, setXp] = useState(0);\r\n  const [yp, setYp] = useState(0);\r\n  const [xratio, setXratio] = useState(userSetting.xratio || (defaultRatio && defaultRatio.xratio) || 0);\r\n  const [yratio, setYratio] = useState(userSetting.yratio || (defaultRatio && defaultRatio.yratio) || 0);\r\n  const [drag, setDrag] = useState(false);\r\n  const [org, setOrg] = useState({\r\n    clientX: 0,\r\n    xratio: 0\r\n  });\r\n  const size = useWindowSize();\r\n\r\n  const down = e => {\r\n    setDrag(true);\r\n    setOrg({\r\n      clientX: e.clientX || e.touches[0].clientX,\r\n      xratio: xratio,\r\n      clientY: e.clientY || e.touches[0].clientY,\r\n      yratio: yratio\r\n    });\r\n  };\r\n\r\n  const move = e => {\r\n    if (drag) {\r\n      const player_wrap = document.getElementById(\"player_wrap\");\r\n      const diffX =\r\n        ((e.clientX || e.touches[0].clientX) - org.clientX) /\r\n        player_wrap.clientWidth;\r\n      setXratio(org.xratio + diffX);\r\n      setXp(player_wrap.clientWidth * (org.xratio + diffX));\r\n\r\n      const diffY =\r\n        ((e.clientY || e.touches[0].clientY) - org.clientY) /\r\n        player_wrap.clientWidth;\r\n      setYratio(org.yratio + diffY);\r\n      setYp(player_wrap.clientWidth * (org.yratio + diffY));\r\n    }\r\n  };\r\n\r\n  const up = e => {\r\n    setDrag(false);\r\n    userSetting.xratio = xratio;\r\n    userSetting.yratio = yratio;\r\n    try {\r\n      localStorage.setItem(type, JSON.stringify(userSetting));\r\n    } catch (e) {}\r\n  };\r\n\r\n  useEffect(() => {\r\n    const player_wrap = document.getElementById(\"player_wrap\");\r\n    setXp(player_wrap.clientWidth * xratio);\r\n    setYp(player_wrap.clientWidth * yratio);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [size]);\r\n\r\n  var isShow = widget[type];\r\n\r\n  if (!movable) {\r\n    return (\r\n      <Wrapper movable={false} width={isShow ? width : 0} height={isShow ? height : 0}>\r\n        {widget[type] ? children : null}\r\n      </Wrapper>\r\n    );\r\n  }\r\n  return (\r\n    <Wrapper\r\n      movable={true}\r\n      width={isShow ? width : 0}\r\n      height={isShow ? height : 0}\r\n      onMouseDown={down}\r\n      onTouchStart={down}\r\n      onMouseMove={move}\r\n      onTouchMove={move}\r\n      onMouseUp={up}\r\n      onTouchEnd={up}\r\n      xp={xp}\r\n      yp={yp}\r\n    >\r\n      {widget[type] ? children : null}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Widget;\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport Widget from \"./Widget\";\r\nimport styled from \"styled-components\";\r\nimport Moment from \"react-moment\";\r\nimport uuid from \"uuid/v1\";\r\nimport rn from \"random\";\r\nimport context from \"../../contexts\";\r\n\r\nconst ChatPanel = styled.div`\r\n  padding-bottom: 10%;\r\n  padding-left: 5%;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nconst WriteMessage = styled.input`\r\n  border: 0.5px solid white;\r\n  padding: 0.5rem;\r\n  background-color: ${props => (props.disabled ? \"gray\" : \"black\")};\r\n  border-radius: 0.3rem;\r\n  color: white;\r\n  width: 100%;\r\n  font-family: \"Arial\";\r\n  cursor: ${props => (props.disabled ? \"not-allowed\" : \"auto\")};\r\n`;\r\n\r\nconst Icon = styled.i`\r\n  margin: 0px 5px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst WriteContainer = styled.div`\r\n  background-color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  border-radius: 0.3rem;\r\n  width: 100%;\r\n`;\r\n\r\nconst MessageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  width: 100%;\r\n  height: 75%;\r\n  margin-bottom: 3%;\r\n  overflow: scroll;\r\n  -ms-overflow-style: none;\r\n  opacity: 0.9;\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n  &::-webkit-scrollbar {\r\n    display: none !important;\r\n  }\r\n`;\r\n\r\nconst Message = styled.div`\r\n  display: flex;\r\n  justify-content: ${props => (props.mine ? \"flex-end\" : \"flex-start\")};\r\n\r\n  & + & {\r\n    margin-bottom: 5px;\r\n  }\r\n`;\r\n\r\nconst MHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst NickName = styled.div`\r\n  font-size: 0.8rem;\r\n  color: #696969;\r\n  height: 0.9rem;\r\n  line-height: 0.9rem;\r\n  font-family: 'Jua', sans-serif;\r\n`;\r\n\r\nconst MTime = styled.div`\r\n  font-size: 0.7rem;\r\n  color: #9e9e9e;\r\n  margin-left: 10px;\r\n  height: 0.9rem;\r\n  line-height: 0.9rem;\r\n`;\r\n\r\nconst MContents = styled.div`\r\n  font-family: \"Arial\";\r\n  font-size: 0.8rem;\r\n  word-break: break-all;\r\n`;\r\n\r\nconst MWrapper = styled.div`\r\n  display: inline-block;\r\n  background-color: ${props => (props.mine ? \"#ffeb3b\" : \"white\")};\r\n  border-radius: 0.3rem;\r\n  padding: 3px 7px;\r\n  padding-top: 5px;\r\n`;\r\n\r\nconst ChatWidget = () => {\r\n  const {channel} = useContext(context);\r\n  const initialMessages = channel.initialMessages.map(msg => ({\r\n    key: uuid(),\r\n    nickName: \"WAVUP\",\r\n    time: new Date(),\r\n    contents: msg\r\n  }));\r\n  const [nickName, _setNickName] = useState(localStorage.nickName);\r\n  const [messages, _setMessages] = useState(initialMessages);\r\n  const [connected, _setConnected] = useState(false);\r\n  const ref = useRef({ nickName, messages, connected, socket: null });\r\n  const setNickName = data => {\r\n    ref.current.nickName = data;\r\n    _setNickName(data);\r\n  };\r\n  const setMessages = data => {\r\n    ref.current.messages = data;\r\n    _setMessages(data);\r\n  };\r\n  const setConnected = data => {\r\n    ref.current.connected = data;\r\n    _setConnected(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // eslint-disable-next-line no-undef\r\n    ref.current.socket = (window.io && window.io(\"https://api.wavup.me\")) || {\r\n      on: () => {}\r\n    };\r\n\r\n    //채팅서버 접속\r\n    ref.current.socket.on(\"connect\", () => {\r\n      setConnected(true);\r\n      ref.current.socket.emit(\"userConnect\");\r\n      \r\n      let realNick = ref.current.nickName;\r\n      if (!realNick) {\r\n        realNick = prompt(\"Please enter your nickname\", \"\");\r\n        if (realNick) {\r\n          localStorage.nickName = realNick;\r\n        } else {\r\n          realNick = `anonymous${rn.int(1000, 9999)}`;\r\n        }\r\n        setNickName(realNick);\r\n      }\r\n    });\r\n\r\n    //메세지 수신\r\n    ref.current.socket.on(\"newMsg\", data => {\r\n      if (data.type === \"newMsg\") {\r\n        setMessages([\r\n          {\r\n            key: uuid(),\r\n            nickName: data.nick,\r\n            time: new Date(),\r\n            contents: data.message\r\n          },\r\n          ...ref.current.messages.slice(0, 99)\r\n        ]);\r\n      }\r\n    });\r\n\r\n    //채팅서버 접속해제\r\n    ref.current.socket.on(\"disconnect\", () => {\r\n      setConnected(false);\r\n    });\r\n  }, []);\r\n\r\n  const sendMessage = e => {\r\n    if (e.key === \"Enter\" && e.target.value) {\r\n      setMessages([\r\n        {\r\n          key: uuid(),\r\n          nickName: nickName,\r\n          time: new Date(),\r\n          contents: e.target.value,\r\n          mine: true\r\n        },\r\n        ...messages.slice(0, 99)\r\n      ]);\r\n\r\n      // 서버로 newMsg 이벤트 전달 + 데이터와 함께\r\n      ref.current.socket.emit(\"newMsg\", {\r\n        type: \"newMsg\",\r\n        message: e.target.value,\r\n        nick: nickName\r\n      });\r\n\r\n      e.target.value = \"\";\r\n    }\r\n  };\r\n\r\n  const changeNickName = () => {\r\n    let realNick = prompt(\"Please enter your nickname\", \"\");\r\n    if (realNick) {\r\n      localStorage.nickName = realNick;\r\n      setNickName(realNick);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Widget type=\"chat\" width=\"40\" height=\"100\">\r\n      <ChatPanel>\r\n        <MessageContainer>\r\n          {messages.map(item => (\r\n            <Message key={item.key} mine={item.mine}>\r\n              <MWrapper mine={item.mine}>\r\n                <MHeader>\r\n                  <NickName>{item.nickName}</NickName>\r\n                  <MTime>\r\n                    <Moment format=\"A hh:mm\">{item.time}</Moment>\r\n                  </MTime>\r\n                </MHeader>\r\n                <MContents>{item.contents}</MContents>\r\n              </MWrapper>\r\n            </Message>\r\n          ))}\r\n        </MessageContainer>\r\n        <WriteContainer>\r\n          <Icon className=\"material-icons\" onClick={changeNickName}>\r\n            account_circle\r\n          </Icon>\r\n          <WriteMessage\r\n            placeholder={nickName}\r\n            onKeyUp={sendMessage}\r\n            disabled={!connected}\r\n          ></WriteMessage>\r\n        </WriteContainer>\r\n      </ChatPanel>\r\n    </Widget>\r\n  );\r\n};\r\n\r\nexport default ChatWidget;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Widget from \"./Widget\";\r\nimport styled from \"styled-components\";\r\nimport Moment from \"react-moment\";\r\nimport { useWindowSize } from \"../../utils/hooks\";\r\n\r\nconst Time = styled.div`\r\n  color: white;\r\n  font-family: \"Baloo Bhai\", cursive;\r\n  font-size: ${props => `${props.font}px`};\r\n`;\r\n\r\nconst defaultRatio = {\r\n  xratio: 0.75,\r\n  yratio: 0.06\r\n};\r\n\r\nconst ClockWidget = () => {\r\n  const size = useWindowSize();\r\n  const [font, setFont] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const player_wrap = document.getElementById(\"player_wrap\");\r\n    setFont(player_wrap.clientWidth * 0.045);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [size]);\r\n\r\n  return (\r\n    <Widget type=\"clock\" movable={true} defaultRatio={defaultRatio}>\r\n      <Time font={font}>\r\n        <Moment interval={1000 * 60} format=\"A hh:mm\"></Moment>\r\n      </Time>\r\n    </Widget>\r\n  );\r\n};\r\n\r\nexport default ClockWidget;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Widget from \"./Widget\";\r\nimport styled from \"styled-components\";\r\nimport { useWindowSize } from \"../../utils/hooks\";\r\n\r\nconst Time = styled.div`\r\n  color: white;\r\n  font-family: \"Baloo Bhai\", cursive;\r\n  font-size: ${props => `${props.font}px`};\r\n`;\r\n\r\nconst defaultRatio = {\r\n  xratio: 0.75,\r\n  yratio: 0.12\r\n};\r\n\r\nconst PlayingTimeWidget = () => {\r\n  const [startTime] = useState(new Date());\r\n  const [playingTime, setPlayingTime] = useState(0);\r\n  const size = useWindowSize();\r\n  const [font, setFont] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const intervalId = setInterval(() => {\r\n      const playingTime = new Date().getTime() - startTime.getTime();\r\n      setPlayingTime(playingTime);\r\n    }, 1000);\r\n\r\n    return () => clearInterval(intervalId);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const player_wrap = document.getElementById(\"player_wrap\");\r\n    setFont(player_wrap.clientWidth * 0.045);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [size]);\r\n\r\n  function getTimes(time) {\r\n    let tmpSeconds = Math.floor(time / 1000);\r\n    const hours = Math.floor(tmpSeconds / (60 * 60));\r\n    tmpSeconds -= hours * 60 * 60;\r\n    const minutes = Math.floor(tmpSeconds / 60);\r\n    tmpSeconds -= minutes * 60;\r\n    const seconds = tmpSeconds;\r\n    return {\r\n      hours,\r\n      minutes,\r\n      seconds\r\n    };\r\n  }\r\n\r\n  function format(time) {\r\n    const { hours, minutes, seconds } = getTimes(time);\r\n    return `${hours.toString().padStart(2, \"0\")}:${minutes\r\n      .toString()\r\n      .padStart(2, \"0\")}:${seconds.toString().padStart(2, \"0\")}`;\r\n  }\r\n\r\n  return (\r\n    <Widget type=\"playingTime\" movable={true} defaultRatio={defaultRatio}>\r\n      <Time font={font}>{format(playingTime)}</Time>\r\n    </Widget>\r\n  );\r\n};\r\n\r\nexport default PlayingTimeWidget;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Player from \"./display/Player\";\r\nimport ControlPanel from \"./display/ControlPanel\";\r\nimport ChatWidget from \"./display/ChatWidget\";\r\nimport ClockWidget from \"./display/ClockWidget\";\r\nimport PlayingTimeWidget from \"./display/PlayingTimeWidget\";\r\nimport media from \"../utils/media\";\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  /* padding-top: 53%; */\r\n  border-radius: 0.5rem;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex: 1;\r\n  background-color: black;\r\n  font-family: \"Baloo Bhai\", cursive;\r\n  margin-top: 2px;\r\n\r\n  ${media.mobile`\r\n    border-radius: 0;\r\n    min-height: 185px;\r\n    max-height: 400px;\r\n  `}\r\n`;\r\n\r\nconst Container = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nconst FlexContainer = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n\r\n  ${media.mobile`\r\n    flex-direction: column;\r\n  `}\r\n`;\r\n\r\nfunction Display() {\r\n  return (\r\n    <Wrapper>\r\n      <Container id=\"display\">\r\n        <FlexContainer>\r\n          <Player>\r\n            <ChatWidget />\r\n            <ClockWidget />\r\n            <PlayingTimeWidget />\r\n          </Player>\r\n          <ControlPanel />\r\n        </FlexContainer>\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default Display;\r\n","import React, { useContext, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport context from \"../../contexts\";\r\n\r\nconst LIST_HOVER_COLOR = \"#e2e6ff\"; \r\nconst LIST_SELECTED_COLOR = \"#bfc9ff\";\r\n\r\nconst Wrapper = styled.div`\r\n  border-radius: 0.5rem;\r\n  background-color: white;\r\n  font-family: \"Baloo Bhai\", fantasy;\r\n  margin: 5px;\r\n  overflow: auto;\r\n  width: 100%;\r\n  height: 97%;\r\n`;\r\n\r\nconst Ul = styled.ul`\r\n  list-style: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0;\r\n  margin: 0;\r\n  height: 100%;\r\n`;\r\n\r\nconst Li = styled.li`\r\n  list-style: none;\r\n  display: flex;\r\n  margin: 0;\r\n  height: 5.2em;\r\n\r\n  /* background-image: linear-gradient(to right, rgba(255,255,255,0) 50%, #ddd 50%);\r\n  background-size: 200% auto;\r\n  background-position: -0% 0;\r\n  transition: background-position 0.5s ease-out; */\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    background: ${LIST_HOVER_COLOR};\r\n    /* background-position: -99.99% 0; */\r\n  }\r\n`;\r\n\r\nconst Image = styled.img`\r\n  flex: 1;\r\n  padding: 5px;\r\n`;\r\n\r\nconst Span = styled.span`\r\n  flex: 9;\r\n  padding: 10px 5px 0 5px;\r\n  display: -webkit-box;\r\n  word-break: break-all;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 3;\r\n  font-family: \"hanna\", cursive;\r\n  font-size: 0.9em;\r\n  line-height: 1.5em;\r\n  height: 4.3em;  \r\n`;\r\n\r\nfunction CategoryList() {\r\n  const { channel, video, dispatch } = useContext(context);\r\n  const ref = useRef({\r\n    channel: Object.assign({}, channel),\r\n  });\r\n  const currentVideoIndex = video.currentVideo;\r\n\r\n  const CLICK_LIST = (index) => {\r\n    dispatch.video({ type: \"SELECT\", currentVideo: index });\r\n  }\r\n\r\n  return (<Wrapper>\r\n    <Ul>\r\n      {\r\n        (ref.current.channel.playList || []).map((item, i)=>{\r\n          return (\r\n            <Li key={i} style={{ background: i === currentVideoIndex ? LIST_SELECTED_COLOR : \"\"}} onClick={CLICK_LIST.bind(null, i)}>\r\n              <Image src={item.thumbnail} alt=\"Error\" />\r\n              <Span>{item.title}</Span>\r\n            </Li>\r\n          )\r\n        })\r\n      }\r\n    </Ul>\r\n  </Wrapper>);\r\n}\r\n\r\nexport default CategoryList;\r\n","import React, { useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport context from \"../contexts\";\r\nimport CategoryList from \"../components/category/CategoryList\";\r\nimport media from \"../utils/media\";\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  flex: 2;\r\n  border-radius: 0.5rem;\r\n  background-color: black;\r\n  font-family: \"Baloo Bhai\", cursive;\r\n  margin-left: 2px;\r\n  margin-top: 2px;\r\n  overflow: hidden;\r\n\r\n  ${media.mobile`\r\n    flex: 3;\r\n  `}\r\n`;\r\n\r\nfunction Category() {\r\n  const { category } = useContext(context);\r\n  return (<Wrapper style={{ display: category.toggleCategory ? \"flex\" : \"none\" }}>\r\n    <CategoryList></CategoryList>\r\n  </Wrapper>);\r\n}\r\n\r\nexport default Category;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Display from \"./Display\";\r\nimport Category from \"./Category\";\r\nimport media from \"../utils/media\";\r\n\r\nconst Wrapper = styled.div`\r\n  /* float: left; */\r\n  display: flex;\r\n  background: #fff;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  ${media.mobile`\r\n    flex-direction: column;\r\n    height: 85%;\r\n    flex: 1;\r\n  `}\r\n`;\r\n\r\nfunction Contents() {\r\n  return (\r\n    <Wrapper>\r\n      <Display></Display>\r\n      <Category></Category>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default Contents;\r\n","import React, { useEffect, useContext, useRef, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport media from \"../utils/media\";\r\nimport context from \"../contexts\";\r\n\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport Contents from \"./Contents\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst Wrapper = styled.div`\r\n  width: 80%;\r\n  height: 100%;\r\n  max-width: 1000px;\r\n  max-height: 600px;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  ${media.mobile`\r\n    width: 100%;\r\n    flex-direction: column;\r\n    padding-top: 0;\r\n    max-height: max-content;\r\n  `}\r\n`;\r\n\r\nfunction Main({ match }) {\r\n  const { channel, channels, dispatch } = useContext(context);\r\n  const [isOnceInitChannel, setIsOnceInitChannel] = useState(false);\r\n  const ref = useRef({\r\n    channel: Object.assign({}, channel),\r\n  });\r\n\r\n  function isValidChannel(channel) {\r\n    return channel && channel.playList && channel.playList.length;\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch.channel({ type: \"SET\", id: match.params.id });\r\n    dispatch.category({ type: \"HIDE\" });\r\n\r\n    if (!isOnceInitChannel && isValidChannel(channel)) {\r\n      setIsOnceInitChannel(true);\r\n      ref.current.channel = Object.assign({}, channel);\r\n    }\r\n\r\n    return () => {\r\n      dispatch.channel({ type: \"CLEAR\" });\r\n    };\r\n  }, [channel, channels]);\r\n\r\n  if (!isValidChannel(ref.current.channel)) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Header></Header>\r\n      <Contents></Contents>\r\n      {/* <Footer></Footer> */}\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default withRouter(Main);\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { URL_ROUTER_NAME } from \"../utils/consts\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport context from \"../contexts\";\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #f0f0f0;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  height: 35%;\r\n  background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)),\r\n    url(\"/images/listening.png\") no-repeat;\r\n  background-size: cover;\r\n  background-position-y: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  color: white;\r\n`;\r\n\r\nconst Titles = styled.div`\r\n  height: 100%;\r\n  text-align: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst SubTitle = styled.div`\r\n  font-size: 0.8rem;\r\n`;\r\n\r\nconst Title = styled.div`\r\n  font-size: 1.5rem;\r\n  font-weight: 800;\r\n  font-family: \"Hind Siliguri\", sans-serif;\r\n  letter-spacing: 0.2rem;\r\n`;\r\n\r\nconst Expander = styled.div`\r\n  font-size: 0.8rem;\r\n  justify-self: flex-end;\r\n  margin-bottom: 0.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Contents = styled.div``;\r\n\r\nconst PlayList = styled.div`\r\n  padding: 1rem 0;\r\n  width: 100%;\r\n  background-color: #f0f0f0;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst CardWrapper = styled.div`\r\n  float: left;\r\n  width: 45%;\r\n  height: 45%;\r\n  max-width: 300px;\r\n  max-height: 300px;\r\n  margin: 0.5rem;\r\n`;\r\n\r\nconst Card = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  padding-top: 84.4%;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst CardInner = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  box-shadow: 0 0.2rem 8px rgba(0, 0, 0, 0.06);\r\n  transition: 0.2s linear;\r\n\r\n  background-color: white;\r\n  border-radius: 0.3rem;\r\n  overflow: hidden;\r\n\r\n  &:hover {\r\n    margin-top: -0.2rem;\r\n    box-shadow: 0 0.4rem 8px rgba(0, 0, 0, 0.06);\r\n    margin-bottom: 0.2rem;\r\n  }\r\n`;\r\n\r\nconst ThumbNail = styled.div`\r\n  width: 100%;\r\n  height: 70%;\r\n`;\r\n\r\nconst CardDesc = styled.div`\r\n  width: 100%;\r\n  height: 30%;\r\n  padding-left: 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n`;\r\n\r\nconst CardName = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  font-family: \"Hind Siliguri\", sans-serif;\r\n  font-weight: 600;\r\n  letter-spacing: 0.15rem;\r\n  font-size: 0.8rem;\r\n`;\r\nconst CardTags = styled.div`\r\n  color: #aaa;\r\n  font-size: 0.6rem;\r\n`;\r\nconst Footer = styled.div`\r\n  text-align: center;\r\n  letter-spacing: 0.15rem;\r\n  font-size: 0.8rem;\r\n  background-color: #f0f0f0;\r\n  padding: 5rem 3rem 3rem 3rem;\r\n  color: #666666;\r\n`;\r\nconst ModalHeader = styled.div`\r\n  display: flex;\r\n`;\r\nconst DeviceLink = styled.div`\r\n  color: ${(props) => (props.isActive ? \"#2196f3\" : \"#9e9e9e\")};\r\n  margin: 0 0.5rem;\r\n  cursor: pointer;\r\n`;\r\nconst MenuBar = styled.div`\r\n  padding: 0 1rem;\r\n  background-color: white;\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\nconst Menu = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  padding: 0 1rem;\r\n\r\n  & .menutitle {\r\n    padding-top: 0.35rem;\r\n    padding-bottom: 0.35rem;\r\n    font-size: 0.8rem;\r\n    font-weight: 500;\r\n    font-family: \"Hind Siliguri\", sans-serif;\r\n    letter-spacing: 0.1rem;\r\n    cursor: pointer;\r\n\r\n    color: ${(props) => (props.isActive ? \"#00b423\" : \"#8e8e8e\")};\r\n\r\n    &:hover {\r\n      color: #00b423;\r\n    }\r\n  }\r\n\r\n  & .activebar {\r\n    background-color: ${(props) => (props.isActive ? \"#00b423\" : \"\")};\r\n    width: 100%;\r\n    height: 0.2rem;\r\n  }\r\n`;\r\nconst Seperator = styled.hr`\r\n  margin: 0;\r\n`;\r\nconst MailTo = styled.a`\r\n  text-decoration: none !important;\r\n  color: inherit;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 0.5rem;\r\n`;\r\n\r\nconst goChannel = (history, channel) => {\r\n  if (!channel.playList || !channel.playList.length) {\r\n    alert(`${channel.name}의 목록이 없습니다`);\r\n    return;\r\n  }\r\n  history.push(`${URL_ROUTER_NAME}/${channel.id}`);\r\n};\r\n\r\nconst Landing = ({ history }) => {\r\n  const { channels } = useContext(context);\r\n  const [modalShow, setModalShow] = useState(false);\r\n  const [modalTab, setModalTab] = useState(\"Android\");\r\n  const handleClose = () => setModalShow(false);\r\n  const handleShow = () => setModalShow(true);\r\n  const handleAndroidShow = () => setModalTab(\"Android\");\r\n  const handleIOSShow = () => setModalTab(\"iOS\");\r\n  \r\n  const [activeMenu, setActiveMenu] = useState(\"music\");\r\n  const handleMenuToggle = function (menu) {\r\n    setActiveMenu(menu);\r\n  };\r\n\r\n  //메뉴 변경에 따른 목록 변경\r\n  const [playList, setPlayList] = useState([]);\r\n  useEffect(() => {\r\n    if (activeMenu === \"all\") {\r\n      setPlayList(channels);\r\n    } else {\r\n      setPlayList(\r\n        channels.filter((x) => !x.category || x.category.includes(activeMenu))\r\n      );\r\n    }\r\n  }, [activeMenu, channels]);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Modal show={modalShow} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <ModalHeader>\r\n            <DeviceLink\r\n              isActive={modalTab === \"Android\"}\r\n              onClick={handleAndroidShow}\r\n            >\r\n              Android\r\n            </DeviceLink>\r\n            <DeviceLink isActive={modalTab === \"iOS\"} onClick={handleIOSShow}>\r\n              iOS\r\n            </DeviceLink>\r\n          </ModalHeader>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {modalTab === \"Android\" && (\r\n            <div>\r\n              <div>크롬(chrome) 브라우저</div>\r\n              <br />\r\n              <div>1. youtube.com 접속</div>\r\n              <br />\r\n              <img\r\n                src={\"/images/android1.png\"}\r\n                alt=\"\"\r\n                style={{ width: \"100%\", height: \"100%\" }}\r\n              ></img>\r\n              <br />\r\n              <br />\r\n              <br />\r\n              <div>2. 아무 영상이나 들어간 후 점 세개 클릭</div>\r\n              <br />\r\n              <img\r\n                src={\"/images/android2.png\"}\r\n                alt=\"\"\r\n                style={{ width: \"100%\", height: \"100%\" }}\r\n              ></img>\r\n              <br />\r\n              <br />\r\n              <br />\r\n              <div>3. 데스크톱 클릭</div>\r\n              <br />\r\n              <img\r\n                src={\"/images/android3.png\"}\r\n                alt=\"\"\r\n                style={{ width: \"100%\", height: \"100%\" }}\r\n              ></img>\r\n              <br />\r\n              <br />\r\n              <br />\r\n              <div>4. 모두 닫고, wavup.me 접속</div>\r\n              <br />\r\n              <img\r\n                src={\"/images/android4.png\"}\r\n                alt=\"\"\r\n                style={{ width: \"100%\", height: \"100%\" }}\r\n              ></img>\r\n              <br />\r\n              <br />\r\n              <br />\r\n              <div>5. 채널 선택 후, 영상 플레이</div>\r\n              <br />\r\n              <img\r\n                src={\"/images/android5.png\"}\r\n                alt=\"\"\r\n                style={{ width: \"100%\", height: \"100%\" }}\r\n              ></img>\r\n              <br />\r\n              <br />\r\n              <br />\r\n              <div>\r\n                6. 홈화면으로 가면 영상이 중지되고 상단 스피커 아이콘 표시\r\n              </div>\r\n              <br />\r\n              <img\r\n                src={\"/images/android6.png\"}\r\n                alt=\"\"\r\n                style={{ width: \"100%\", height: \"100%\" }}\r\n              ></img>\r\n              <br />\r\n              <br />\r\n              <br />\r\n              <div>\r\n                7. 상단바를 내리면 중지된 영상이 나오며, 플레이 버튼 클릭\r\n              </div>\r\n              <br />\r\n              <img\r\n                src={\"/images/android7.png\"}\r\n                alt=\"\"\r\n                style={{ width: \"100%\", height: \"100%\" }}\r\n              ></img>\r\n              <br />\r\n              <br />\r\n              <br />\r\n              <div>8. 백그라운드 재생 성공! 마음껏 다른 작업을 하세요</div>\r\n              <br />\r\n            </div>\r\n          )}\r\n          {modalTab === \"iOS\" && <div>준비중...</div>}\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n      <Header>\r\n        <Titles>\r\n          <SubTitle>음악과 함께 하고 싶을 땐</SubTitle>\r\n          <Title>WAVUP</Title>\r\n        </Titles>\r\n        <Expander onClick={handleShow}>\r\n          백그라운드에서 재생하는 방법\r\n          <i className=\"material-icons\">expand_more</i>\r\n        </Expander>\r\n      </Header>\r\n      <Contents>\r\n        <MenuBar>\r\n          <Menu\r\n            isActive={activeMenu === \"all\"}\r\n            onClick={handleMenuToggle.bind(null, \"all\")}\r\n          >\r\n            <div className=\"menutitle\">#ALL</div>\r\n            <div className=\"activebar\"></div>\r\n          </Menu>\r\n          <Menu\r\n            isActive={activeMenu === \"favorite\"}\r\n            onClick={handleMenuToggle.bind(null, \"favorite\")}\r\n          >\r\n            <div className=\"menutitle\">#FAVORITE</div>\r\n            <div className=\"activebar\"></div>\r\n          </Menu>\r\n          <Menu\r\n            isActive={activeMenu === \"music\"}\r\n            onClick={handleMenuToggle.bind(null, \"music\")}\r\n          >\r\n            <div className=\"menutitle\">#MUSIC</div>\r\n            <div className=\"activebar\"></div>\r\n          </Menu>\r\n        </MenuBar>\r\n\r\n        <Seperator></Seperator>\r\n\r\n        <PlayList>\r\n          {playList.map((item) => (\r\n            <CardWrapper key={item.id}>\r\n              <Card onClick={() => goChannel(history, item)}>\r\n                <CardInner>\r\n                  <ThumbNail>\r\n                    <img\r\n                      src={item.img}\r\n                      alt=\"\"\r\n                      style={{ width: \"100%\", height: \"100%\" }}\r\n                    ></img>\r\n                  </ThumbNail>\r\n                  <CardDesc>\r\n                    <CardName>{item.name}</CardName>\r\n                    <CardTags>{(item.tags || []).reduce((result, tag) => result + \" #\" + tag, \"\")}</CardTags>\r\n                  </CardDesc>\r\n                </CardInner>\r\n              </Card>\r\n            </CardWrapper>\r\n          ))}\r\n        </PlayList>\r\n      </Contents>\r\n      <Footer>\r\n        developed by{\" \"}\r\n        <span style={{ fontWeight: 600 }}>브로콜리, Wise Cow, 로봇</span>\r\n        <br />\r\n        <MailTo href=\"mailto:wavupme@gmail.com\">\r\n          <i className=\"material-icons\" style={{margin: \"0 0.5rem\", fontSize: \"1rem\"}}>mail_outline</i>wavupme@gmail.com\r\n        </MailTo>\r\n      </Footer>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Landing;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport Container from \"./Container\";\r\nimport Main from \"./Main\";\r\nimport Landing from \"./Landing\";\r\nimport context from \"../contexts\";\r\nimport { URL_ROUTER_NAME, API_URL } from \"./../utils/consts\";\r\nimport axios from \"axios\";\r\n\r\nfunction ChannelsSetter() {\r\n  const { dispatch } = useContext(context);\r\n\r\n  //채널 목록 조회\r\n  useEffect(() => {\r\n    if (!localStorage.v || !localStorage.channels) {\r\n      localStorage.removeItem(\"v\");\r\n      localStorage.removeItem(\"channel\");\r\n    }\r\n\r\n    axios\r\n      .get(API_URL.getChannels, { params: { v: localStorage.v } })\r\n      .then((res) => {\r\n        if (res.data) {\r\n          localStorage.setItem(\"v\", res.data.v);\r\n          localStorage.setItem(\"channels\", JSON.stringify(res.data.channels));\r\n          dispatch.channels({ channels: res.data.channels, type: \"INIT\" });\r\n          return;\r\n        }\r\n\r\n        dispatch.channels({\r\n          channels: JSON.parse(localStorage.channels),\r\n          type: \"INIT\",\r\n        });\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Route path={URL_ROUTER_NAME + \"/\"} component={Landing} exact />\r\n      <Route\r\n        path={URL_ROUTER_NAME + \"/:id\"}\r\n        render={() => (\r\n          <Container>\r\n            <Main></Main>\r\n          </Container>\r\n        )}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default React.memo(ChannelsSetter);\r\n","import React from \"react\";\r\nimport { Provider } from \"./contexts\";\r\nimport ChannelsSetter from \"./components/ChannelsSetter\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider>\r\n      <ChannelsSetter></ChannelsSetter>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter } from 'react-router-dom';\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <App />\r\n  </HashRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}